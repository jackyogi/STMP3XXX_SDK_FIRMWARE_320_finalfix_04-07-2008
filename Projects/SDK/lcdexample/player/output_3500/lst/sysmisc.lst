TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   1
C:\STMP3XXX_SDK_FIRMWARE_320_finalfix\system\common\sysmisc.asm
M:ADDR CODE           CYCLES LINE SOURCELINE
                                1 ;///////////////////////////////////////////////////////////////////////////////
                                2 ;  Copyright(C) SigmaTel, Inc. 2000-2001
                                3 ;
                                4 ;  File        : sysmisc.asm
                                5 ;  Description : Misc System Routines
                                6 ;///////////////////////////////////////////////////////////////////////////////
                                8     page    255,255,0
                               10     section SYSFUN_SysMisc
                               12 ;///////////////////////////////////////////////////////////////////////////////
                               13 ;   Macros
                               14 ;///////////////////////////////////////////////////////////////////////////////
                               16 ;///////////////////////////////////////////////////////////////////////////////
                               17 ;   Includes
                               18 ;///////////////////////////////////////////////////////////////////////////////
                               23     list
                               24      
                               25 ;///////////////////////////////////////////////////////////////////////////////
                               26 ;   External Definitions
                               27 ;///////////////////////////////////////////////////////////////////////////////
                               29     ;Functions  
                               38 ;///////////////////////////////////////////////////////////////////////////////
                               39 ;   External References
                               40 ;///////////////////////////////////////////////////////////////////////////////
                               42 ;///////////////////////////////////////////////////////////////////////////////
                               43 ;   Equates
                               44 ;///////////////////////////////////////////////////////////////////////////////
                               45         
                               46 ;///////////////////////////////////////////////////////////////////////////////
                               47 ;   X Memory
                               48 ;///////////////////////////////////////////////////////////////////////////////
                               49         
X:0000                         50     org     x,"SYSFUN_SysMisc_X":
                               52 ;///////////////////////////////////////////////////////////////////////////////
                               53 ;   Y Memory
                               54 ;///////////////////////////////////////////////////////////////////////////////
Y:0000                         56     org     y,"SYSFUN_SysMisc_Y":
                               58 ;///////////////////////////////////////////////////////////////////////////////
                               59 ;   P Memory
                               60 ;///////////////////////////////////////////////////////////////////////////////
P:0000                         62     org     p,"SYSFUN_SysMisc_P":
                               64 ;///////////////////////////////////////////////////////////////////////////////
                               65 ;
                               66 ;>  Name:           DelayLongB
                               67 ;
                               68 ;   Type:           Function
                               69 ;
                               70 ;   Description:    ???
                               71 ;
                               72 ;   Inputs:         b = count
                               73 ;
                               74 ;   Outputs:        none
                               75 ;                   
                               76 ;   Notes:          none
                               77 ;<
                               78 ;///////////////////////////////////////////////////////////////////////////////
                               79 DelayLongB
P:0000 00000B         2    2   80     dec b
P:0001 0AF0A2 rrrrrr  6    8   81     jne DelayLongB
P:0003 00000C         4   12   82     rts
                               84 ;///////////////////////////////////////////////////////////////////////////////
                               85 ;
                               86 ;>  Name:           ProgrammingError
                               87 ;
                               88 ;   Type:           Function
                               89 ;
                               90 ;   Description:    Old - should remove
                               91 ;
                               92 ;   Inputs:         none
                               93 ;
                               94 ;   Outputs:        none
                               95 ;                   
                               96 ;   Notes:          This function does not return - it executes "jmp *"
                               97 ;<
                               98 ;///////////////////////////////////////////////////////////////////////////////
                               99 ProgrammingError
P:0004 0AF080 rrrrrr  6   18  100     jmp     *
                              102 ;///////////////////////////////////////////////////////////////////////////////
                              103 ;
                              104 ;>  Name:           SystemError
                              105 ;
                              106 ;   Type:           function
                              107 ;
                              108 ;   Description:    Old - should remove
                              109 ;
                              110 ;   Inputs:         none
                              111 ;
                              112 ;   Outputs:        none
                              113 ;                   
                              114 ;   Notes:          This function does not return - it executes "jmp *"
                              115 ;<
                              116 ;///////////////////////////////////////////////////////////////////////////////
                              117 SystemError
P:0006 0AF080 rrrrrr  6   24  118     jmp     *
                              120 ;///////////////////////////////////////////////////////////////////////////////
                              121 ;
                              122 ;>  Name:           SystemNullRoutine
                              123 ;
                              124 ;   Type:           Function
                              125 ;
                              126 ;   Description:    Empty function
                              127 ;
                              128 ;   Inputs:         none
                              129 ;
                              130 ;   Outputs:        none
                              131 ;                   
                              132 ;   Notes:          Used to fill unused descriptors
                              133 ;<
                              134 ;///////////////////////////////////////////////////////////////////////////////
                              135 SystemNullRoutine
P:0008 00000C         4   28  136     rts
                              138 ;///////////////////////////////////////////////////////////////////////////////
                              139 ;
                              140 ;>  Name:           InvalidIsrVector
                              141 ;
                              142 ;   Type:           Interrupt Service Routine
                              143 ;
                              144 ;   Description:    Old - should remove
                              145 ;
                              146 ;   Inputs:         none
                              147 ;
                              148 ;   Outputs:        none
                              149 ;                   
                              150 ;   Notes:          ???
                              151 ;<
                              152 ;///////////////////////////////////////////////////////////////////////////////
                              153 InvalidIsrVector
P:0009 0AF080 rrrrrr  6   34  154     jmp     *
                              156 ;///////////////////////////////////////////////////////////////////////////////
                              157 ;
                              158 ;>  Name:           SysAllLinear
                              159 ;
                              160 ;   Type:           Function
                              161 ;
                              162 ;   Description:    Forces all modulo registers to linear
                              163 ;
                              164 ;   Inputs:         none
                              165 ;
                              166 ;   Outputs:        none
                              167 ;                   
                              168 ;   Notes:          Does not force m7
                              169 ;<
                              170 ;///////////////////////////////////////////////////////////////////////////////
                              171 SysAllLinear
P:000B 058060r        2   36  172     movec   y:<Const_ffffff,m0
P:000C 0461A0         2   38  173     movec   m0,m1
P:000D 0462A0         2   40  174     movec   m0,m2
P:000E 0463A0         2   42  175     movec   m0,m3
P:000F 0464A0         2   44  176     movec   m0,m4
P:0010 0465A0         2   46  177     movec   m0,m5
P:0011 0466A0         2   48  178     movec   m0,m6
P:0012 00000C         4   52  179     rts
                              181 ;///////////////////////////////////////////////////////////////////////////////
                              182 ;
                              183 ;>  Name:           SysGetMicVR
                              184 ;
                              185 ;   Type:           Function
                              186 ;
                              187 ;   Description:    Returns the HW_MIXMICINVR register.
                              188 ;
                              189 ;   Inputs:         none
                              190 ;
                              191 ;   Outputs:        a1 = HW_MIXMICINVR contents
                              192 ;                   
                              193 ;   Notes:          none
                              194 ;<
                              195 ;///////////////////////////////////////////////////////////////////////////////
                              196 SysGetMicVR
P:0013 56F000 00FA05  3   55  197     move    x:HW_MIXMICINVR,a
P:0015 00000C         4   59  198     rts
                              200     endsec
