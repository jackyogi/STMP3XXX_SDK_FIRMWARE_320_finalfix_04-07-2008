;///////////////////////////////////////////////////////////////////////////////
; Copyright(C) SigmaTel, Inc. 2000-2001
;
; Filename: MediaMap.asm
; Description: Media Map Table
;///////////////////////////////////////////////////////////////////////////////

    opt     mex

    section MediaMap

;///////////////////////////////////////////////////////////////////////////////
;   Includes and external referencse
;///////////////////////////////////////////////////////////////////////////////

    nolist
    include "resource.inc"
    include "project.inc"
    list

    page    132,60,0,0,0

;///////////////////////////////////////////////////////////////////////////////
;   Symbol Exports 
;///////////////////////////////////////////////////////////////////////////////

    global      MediaMapTable
                
    ; These externs are here so that the media device driver headers are
    ; referenced and are thus pulled in from the fat12 library.
    extern      SMDDHeader
    if @DEF('MMC')
        extern      MMCDDHeader
    endif

;///////////////////////////////////////////////////////////////////////////////
;   Equates
;///////////////////////////////////////////////////////////////////////////////


;///////////////////////////////////////////////////////////////////////////////
;  X memory
;///////////////////////////////////////////////////////////////////////////////


;///////////////////////////////////////////////////////////////////////////////
;  Y memory
;///////////////////////////////////////////////////////////////////////////////

    org y,"ReadFAT12_y":

    
MediaMapTable    

    ; SmartMedia device (global device number 0)
    dc      SMDDHeader
    dc      0                       ; Local device number
    if (NUM_REMOVABLE_MEDIA==1)
        if @DEF('MMC')
            ; MMC device (global device number 1)
            dc      MMCDDHeader
            dc      0                       ; Local device number
        else
            ; SmartMedia device (global device number 1)
            dc      SMDDHeader
            dc      1                       ; Local device number
        endif
    endif


;///////////////////////////////////////////////////////////////////////////////
;   Code
;///////////////////////////////////////////////////////////////////////////////



    endsec
 
