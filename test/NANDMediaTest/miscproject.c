////////////////////////////////////////////////////////////////////////////////
// Copyright(C) SigmaTel, Inc. 2002
//
// Filename: miscproject.c
// Description: Misc Project-specific
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
//   Includes and external references
////////////////////////////////////////////////////////////////////////////////

#include "types.h"
#include "project.h"
#include "sysserialnumber.h"

////////////////////////////////////////////////////////////////////////////////
// Externs
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Defs
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Prototypes
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Variables
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Code
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
//
//>  Name:          MiscProjectInit
//
//   Type:          Function
//
//   Description:   
//
//   Inputs:        none
//
//   Outputs:       RETCODE
//
//   Notes:         none
//<
////////////////////////////////////////////////////////////////////////////////
RETCODE _reentrant MiscProjectInit(void)
{

    // Generically enable serial numbers for all media
    SerialNumberEnableInit();
    
    // Initialize the chip serial number
    ChipSerialNumberInit();

    // Initialize the internal media serial number
    InternalMediaSerialNumberInit();
    
    return SUCCESS;
}

////////////////////////////////////////////////////////////////////////////////
//
//>  Name:          SerialNumberEnableInit
//
//   Type:          Function
//
//   Description:   
//
//   Inputs:        none
//
//   Outputs:       RETCODE
//
//   Notes:         none
//<
////////////////////////////////////////////////////////////////////////////////
RETCODE _reentrant SerialNumberEnableInit(void)
{
    return SUCCESS;
}

////////////////////////////////////////////////////////////////////////////////
//
//>  Name:          SerialNumbersEnabled
//
//   Type:          Function
//
//   Description:   
//
//   Inputs:        none
//
//   Outputs:       BOOL        TRUE if serial numbers enabled
//                              FALSE if serial numbers disabled
//
//   Notes:         none
//<
////////////////////////////////////////////////////////////////////////////////
BOOL _reentrant SerialNumbersEnabled(void)
{
    #ifdef WMAAPI_NO_DRM
        return FALSE;
    #else
        return TRUE;
    #endif    
}

