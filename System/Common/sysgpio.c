////////////////////////////////////////////////////////////////////////////////
// Copyright(C) SigmaTel, Inc. 2001
//
// File : bootgpio.asm
// Description : GPIO routines
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
//  Macros
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
//  Includes
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
//  External Definitions
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
//  External References
////////////////////////////////////////////////////////////////////////////////

#include "types.h"
#include "hwequ.h"
#include "sysgpio.h"

// The GPIO functions are actually implemented in assembly in sysgpioa.asm
extern _asmfunc RETCODE SysGpioEnableAsInput_as(WORD wNum);
extern _asmfunc RETCODE SysGpioEnableAsOutput_as(WORD wNum);
extern _asmfunc RETCODE SysGpioDisable_as(WORD wNum);
extern _asmfunc WORD SysGpioGetInputState_as(WORD wNum);
extern _asmfunc WORD SysGpioSetOutputState_as(WORD wNum, WORD wState);

////////////////////////////////////////////////////////////////////////////////
//  Equates
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
//  X Memory
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
//  Y Memory
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
//  P Memory
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
//
//>  Name:           SysGpioPadPowerUp
//
//   Type:           Function
//
//   Description:    
//
//   Inputs:         x0 = GPIO number
//
//   Outputs:        sr.Carry = 0 Success
//                              1 Fail
//                   x0 = GPIO number
//
//   Notes:          
//<
////////////////////////////////////////////////////////////////////////////////
/*
RETCODE SysGpioPadPowerUp(WORD wGpioNum)
{
    return(NOERROR);
}
*/

////////////////////////////////////////////////////////////////////////////////
//
//>  Name:           SysGpioEnableAsInput
//
//   Type:           Function
//
//   Description:    
//
//   Inputs:         x0 = GPIO number
//
//   Outputs:        sr.Carry = 0 Success
//                              1 Fail
//                   x0 = GPIO number
//
//   Notes:          
//<
////////////////////////////////////////////////////////////////////////////////
RETCODE SysGpioEnableAsInput(WORD wGpioNum)
{
    RETCODE rcRet;
    
    rcRet = SysGpioEnableAsInput_as(wGpioNum);
    
    return(rcRet);
}

////////////////////////////////////////////////////////////////////////////////
//
//>  Name:           SysGpioEnableAsOutput
//
//   Type:           Function
//
//   Description:    
//
//   Inputs:         x0 = GPIO number
//
//   Outputs:        sr.Carry = 0 Success
//                              1 Fail
//                   x0 = GPIO number
//
//   Notes:          
//<
////////////////////////////////////////////////////////////////////////////////
RETCODE SysGpioEnableAsOutput(WORD wGpioNum)
{
    RETCODE rcRet;
    
    rcRet = SysGpioEnableAsOutput_as(wGpioNum);
    
    return(rcRet);
}

////////////////////////////////////////////////////////////////////////////////
//
//>  Name:           SysGpioDisable
//
//   Type:           Function
//
//   Description:    
//
//   Inputs:         x0 = GPIO number
//
//   Outputs:        sr.Carry = 0 Success
//                              1 Fail
//                   x0 = GPIO number
//
//   Notes:          
//<
////////////////////////////////////////////////////////////////////////////////
RETCODE SysGpioDisable(WORD wGpioNum)
{
    RETCODE rcRet;
    
    rcRet = SysGpioDisable_as(wGpioNum);
    
    return(rcRet);
}

////////////////////////////////////////////////////////////////////////////////
//
//>  Name:           SysGpioGetInputState
//
//   Type:           Function
//
//   Description:    
//
//   Inputs:         x0 = GPIO number
//
//   Outputs:        sr.Carry = 0 Success
//                              1 Fail
//                   sr.Zero  = 0  Bit not set
//                              1  Bit set
//                   x0 = GPIO number
//
//   Notes:          
//<
////////////////////////////////////////////////////////////////////////////////
WORD SysGpioGetInputState(WORD wGpioNum)
{
    WORD wState;
    
    wState = SysGpioGetInputState_as(wGpioNum);

    return(wState);
}

////////////////////////////////////////////////////////////////////////////////
//
//>  Name:           SysGpioSetOutputState
//
//   Type:           Function
//
//   Description:    
//
//   Inputs:         x0 = GPIO number
//
//   Outputs:        sr.Carry = 0 Success
//                              1 Fail
//                   sr.Zero  = 0  Bit not set
//                              1  Bit set
//                   x0 = GPIO number
//
//   Notes:          
//<
////////////////////////////////////////////////////////////////////////////////
RETCODE SysGpioSetOutputState(WORD wGpioNum, WORD wState)
{
    RETCODE rcRet;
    
    rcRet = SysGpioSetOutputState_as(wGpioNum, wState);
    
    return(rcRet);
}
