////////////////////////////////////////////////////////////////////////////////
// Copyright(C) SigmaTel, Inc. 2000-2001
//
// Filename: mediaroutines.c
// Description: 
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
//   Includes and external references
////////////////////////////////////////////////////////////////////////////////

#include "types.h"
#include "project.h"
#include "filesystem.h"
#include "mediaroutines.h"

////////////////////////////////////////////////////////////////////////////////
// Symbol Exports
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Externs
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// defs
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Prototypes
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Variables
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Code
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
//
//>  Name:          ReadSector
//
//   Type:          Function
//
//   Description:   
//
//   Inputs:        
//
//   Outputs:       none
//
//   Notes:         Not Portable C Code
//                  Only handles dwSectorNum <= 24-bits
//<
////////////////////////////////////////////////////////////////////////////////
RETCODE ReadSector(WORD wDeviceNum, DWORD dwSectorNum, WORD wType, 
    WORD _X * pBuffer)
{
    #pragma asm
        extern MediaReadSector
        move    b1,a2
        move    a0,a1
        move    x0,a0
        move    r0,r1
        jsr     MediaReadSector
        move    a1,a
    #pragma endasm
}

////////////////////////////////////////////////////////////////////////////////
//
//>  Name:          WriteSector
//
//   Type:          Function
//
//   Description:   
//
//   Inputs:        
//
//   Outputs:       none
//
//   Notes:         Not Portable C Code
//                  Only handles dwSectorNum <= 24-bits
//<
////////////////////////////////////////////////////////////////////////////////
RETCODE WriteSector(WORD wDeviceNum, DWORD dwSectorNum, WORD wType, 
    WORD _X * pBuffer)
{
    #pragma asm
        extern MediaWriteSector
        move    b1,a2
        move    a0,a1
        move    x0,a0
        move    r0,r1
        jsr     MediaWriteSector
        move    a1,a
    #pragma endasm
}
